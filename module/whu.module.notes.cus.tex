%% whu.module.notes.cus.tex
%% Copyright 2023, 2024 Wenjian Chern.
%% 
% This file comes originally from the CusTeX project (https://github.com/Sophanatprime/cus)
%%
\WHUDependency {disable={nccfoots},package={footmisc,manyfoot}}
\WHUProvideExplModule{notes.cus}{\whu@d@te}{\whu@versi@n}{notes (footnote,marginnote,sidenote,endnote)}

%% nccfoots.sty
\cs_set_nopar:Npn \NCC@makefnmark #1
  {
    \tl_if_empty:nF {#1}
      {
        \group_begin:
          \unrestored@protected@xdef \@thefnmark {#1}%
        \group_end:
      }
  }
\tl_set_eq:NN \@thefnmark \c_empty_tl
\cs_set_protected_nopar:Npn \Footnote #1  { \Footnotemark{#1} \@footnotetext }
\cs_set_protected_nopar:Npn \Footnotemark #1  { \NCC@makefnmark{#1} \@footnotemark }
\cs_set_protected_nopar:Npn \Footnotetext #1  { \NCC@makefnmark{#1} \@footnotetext }
%% end nccfoots

